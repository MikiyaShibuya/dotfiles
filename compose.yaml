services:
  dotfiles:
    build:
      args:
        - USER=$USER
        - GID=$G
        - UID=$U
        - PASSWORD=0000
        - UBUNTU_VERSION=22.04
      context: .
    ports:
      - :${SSH_PORT:-2222}:2222
    volumes:
      - ./docker/.keys:/keys
      - ./docker/container-disk:/home/$USER/host-disk
      - .:/home/$USER/dotfiles
    privileged: true
    tty: true
